<!doctype html>
<html lang="en" class="h-full">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff">
    <link rel="icon" type="image/svg+xml" href="/images/favicon.svg">
    <link rel="mask-icon" type="image/svg+xml" href="/images/favicon.svg" color="#2a2a2a">
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json">
    <title>Intray</title>
    <link href="/assets/styles.css" rel="stylesheet">
    {{> appearance }}
    <script type="module" src="/assets/main.js"></script>
  </head>
  <body class="h-full px-10 py-8 flex flex-col gap-10 dark:bg-zinc-900 dark:text-zinc-100">
    <div class="off-mask"></div>

    <div class="text-center">
      <h1 class="text-8xl font-extrabold mb-2 dark:text-white">Intray</h1>
      <h2 class="text-xl text-gray-600 dark:text-zinc-400" style="text-wrap: pretty">
        Unofficial GUI for <a class="hover:underline text-black dark:text-zinc-300" href="https://github.com/anystack-sh/porter" title="CLI tool to orchestrate background tasks" target="_blank" rel="noopener">Porter app</a>.
        Background process runner.
      </h2>
    </div>

    <div x-data="demo" x-on:keyup.escape.window="popup = ''" class="relative self-center text-[13px] cursor-default select-none text-gray-900 dark:text-zinc-400 flex">
      <div class="flex" :class="{'opacity-0': popup}">
        <div class="mt-px p-1.5 w-52 xs:w-64 rounded-md bg-gray-200/80 ring-[0.5px] ring-gray-300 shadow-xl space-y-1 dark:bg-zinc-900/80 dark:text-zinc-300 dark:ring-zinc-700">
          {{> tray }}
        </div>
        <div class="bg-gray-900 h-[75%] w-24 xs:w-40 rounded-l-md order-first self-center p-2.5 py-1.5 pr-0 text-white/60 font-mono overflow-hidden dark:bg-black/50">
          {{> cli }}
        </div>
      </div>
      <template x-if="popup === 'apps'" hidden>
        {{> apps }}
      </template>
      <template x-if="popup === 'settings'" hidden>
        {{> settings }}
      </template>
      {{> logs }}

      <svg class="hidden sm:block absolute -top-8 -right-16 pointer-events-none" width="76" height="71" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M68.6 13.111c-1.113.254-2.177.238-3.193-.046a5.717 5.717 0 0 1-2.57-1.616c-.695-.793-1.174-1.765-1.436-2.915-.43-1.885-.061-3.446 1.105-4.683 1.184-1.241 2.785-2.091 4.802-2.55a5.23 5.23 0 0 1 2.728.092c.914.268 1.712.77 2.395 1.507.684.737 1.152 1.661 1.405 2.773.275 1.207.204 2.333-.212 3.38a6.428 6.428 0 0 1-1.99 2.624 7.586 7.586 0 0 1-3.034 1.434Zm-.678-1.54c1.753-.4 2.992-1.098 3.716-2.096.725-.998.913-2.26.566-3.787a3.863 3.863 0 0 0-1.687-2.441c-.869-.596-1.935-.75-3.198-.462a7.575 7.575 0 0 0-2.463 1.067c-.795.517-1.402 1.161-1.821 1.93-.42.77-.527 1.608-.32 2.513a4.313 4.313 0 0 0 1.048 1.992c.523.555 1.15.957 1.88 1.207a4.366 4.366 0 0 0 2.278.076ZM59.145 15.264c-.283.064-.47.028-.56-.11-.096-.157-.182-.405-.26-.744a3.316 3.316 0 0 0-.074-.46 2.403 2.403 0 0 1-.068-.43 21.306 21.306 0 0 0-.416-2.612c-.408-1.79-1.027-3.117-1.858-3.979-.835-.88-1.903-1.172-3.204-.876-.716.163-1.392.505-2.026 1.026-.616.517-1.09 1.091-1.423 1.722-.313.627-.42 1.157-.322 1.59.219.525.541 1.156.966 1.892.04.09.183.365.426.825.263.456.439.882.529 1.277l.15.531c.07.302-.047.487-.349.556-.377.085-.744-.089-1.1-.523-.338-.439-.767-1.144-1.285-2.117-.515-.953-.98-1.73-1.393-2.33a5.346 5.346 0 0 0-1.461-1.451c-.56-.369-1.188-.473-1.886-.315-.961.22-1.64.72-2.037 1.505-.377.78-.457 1.65-.238 2.612.146.641.396 1.476.75 2.506.274.77.475 1.438.604 2.004.078.34.098.602.06.79-.036.186-.196.312-.478.376-.377.086-.67.023-.876-.187-.21-.23-.376-.609-.496-1.136a51.49 51.49 0 0 0-1.026-3.723 79.703 79.703 0 0 1-.442-1.416 20.5 20.5 0 0 1-.569-2.369l-.184-.94a.557.557 0 0 1 .357-.259c.208-.047.407.046.6.28.206.21.367.57.483 1.08.171-.555.485-1.092.942-1.613.456-.52.986-.849 1.59-.986 1.036-.236 1.943-.215 2.72.064.793.256 1.579.791 2.359 1.605.309-1.082.914-2.082 1.815-3.001.92-.923 1.945-1.514 3.076-1.771 1.17-.266 2.24-.044 3.215.666.994.705 1.811 1.64 2.453 2.802.66 1.159 1.11 2.266 1.35 3.321.215.943.336 1.867.364 2.773.047.901-.213 1.416-.778 1.545ZM34.786 20.78c-1.207.275-2.373.293-3.498.053s-2.088-.724-2.889-1.454c-.8-.73-1.33-1.66-1.587-2.791-.288-1.263-.32-2.495-.098-3.696.218-1.22.705-2.262 1.46-3.128.768-.889 1.766-1.473 2.99-1.752 1.283-.291 2.348-.098 3.197.582.844.66 1.389 1.617 1.634 2.87.254 1.111.004 2.06-.75 2.847-.733.781-1.779 1.327-3.136 1.636-.208.047-.523.1-.946.156-.696.079-1.2.085-1.513.017-.313-.068-.514-.3-.604-.695-.03-.132-.014-.235.048-.309.058-.092.2-.164.427-.216.245-.056.691-.098 1.34-.126a9.075 9.075 0 0 0 1.65-.197c1.734-.395 2.43-1.347 2.086-2.855-.206-.905-.539-1.582-.998-2.033-.44-.455-1.076-.588-1.905-.399-.905.206-1.66.636-2.265 1.289a4.954 4.954 0 0 0-1.243 2.246 5.68 5.68 0 0 0-.006 2.589c.34 1.489 1.033 2.62 2.082 3.392 1.043.754 2.433.933 4.167.539.207-.048.552-.146 1.033-.295.203-.066.445-.18.725-.344.28-.162.482-.278.605-.346.747-.467 1.308-.744 1.685-.83.283-.064.517-.038.702.079-.308.823-.895 1.512-1.76 2.066-.85.53-1.729.9-2.633 1.105ZM11.598 24.275a1.76 1.76 0 0 1-.06-.522c.027-.145.135-.238.323-.282.17-.038.367-.043.591-.015.244.024.48.06.709.106a11.3 11.3 0 0 0 1.53.187c.459.015 1.009-.051 1.65-.197 2.337-.532 3.964-1.487 4.88-2.866.934-1.382 1.197-2.969.79-4.76-.365-1.602-1.138-2.903-2.317-3.904a9.747 9.747 0 0 0-4.106-2.099c-1.535-.384-3.034-.479-4.497-.285l4.335 11.594c.073.32.086.595.039.824-.028.225-.193.371-.495.44-.067.055-.324-.422-.772-1.43-.447-1.009-1.084-2.5-1.91-4.473-.96-2.3-1.684-3.998-2.172-5.097-.492-1.117-.824-1.746-.994-1.885-1.565.356-2.827.733-3.788 1.13-.965.378-1.687.731-2.168 1.059-.48.327-.674.48-.58.459a.367.367 0 0 1-.236-.125 1.617 1.617 0 0 1-.175-.377 16.51 16.51 0 0 0-.169-.348c-.103-.452.221-.903.972-1.351A12.77 12.77 0 0 1 5.4 8.94c.884-.3 1.476-.484 1.778-.553 2.017-.46 4.213-.523 6.589-.192 2.371.313 4.482 1.092 6.331 2.336 1.85 1.245 3.022 2.95 3.515 5.118.37 1.622.28 3.1-.27 4.434-.552 1.316-1.422 2.416-2.609 3.3a10.352 10.352 0 0 1-3.985 1.83c-1.206.275-2.333.333-3.38.175-1.048-.158-1.638-.53-1.771-1.114Z" fill="currentColor"/><path fill-rule="evenodd" clip-rule="evenodd" d="M49.52 24.137 50 24l.481-.137.005.017.013.047.05.181a76.157 76.157 0 0 1 .783 3.243 85.119 85.119 0 0 1 1.413 8.481c.75 6.639.772 14.778-2.306 20.408-2.452 4.483-6.858 7.367-12.007 9.187-5.15 1.82-11.097 2.594-16.717 2.824-5.625.23-10.947-.084-14.861-.456a113.19 113.19 0 0 1-5.264-.621l1.919 2.71a.5.5 0 1 1-.816.577L.092 66.79a.5.5 0 0 1 .119-.697l3.672-2.6a.5.5 0 1 1 .578.816l-2.663 1.885.508.072c1.107.152 2.7.35 4.642.535 3.886.368 9.16.68 14.726.452 5.57-.228 11.406-.995 16.425-2.768 5.021-1.775 9.173-4.538 11.462-8.724 2.918-5.334 2.94-13.195 2.19-19.816a84.13 84.13 0 0 0-1.99-10.895 49.265 49.265 0 0 0-.226-.854l-.012-.044-.003-.01v-.004Z" fill="currentColor"/></svg>
    </div>

    <div x-data="{
        open: false,
        links: [{
          os: 'mac',
          url: 'https://github.com/vovayatsyuk/intray.run/releases/download/v0.4.7/Intray_0.4.7_x64.dmg'
        }, {
          os: 'win',
          url: 'https://github.com/vovayatsyuk/intray.run/releases/download/v0.4.7/Intray_0.4.7_x64_en-US.msi'
        }, {
          os: 'linux',
          url: 'https://github.com/vovayatsyuk/intray.run/releases/download/v0.4.7/intray_0.4.7_amd64.deb'
        }].toSorted(item => item.os === window.os ? -1 : 0)
      }" class="self-center mt-4">
      <button @click="open = !open" x-ref="download" type="button" class="inline-block cursor-pointer px-10 py-4 rounded-lg bg-gray-900 text-white font-semibold text-lg whitespace-nowrap dark:bg-black/50">Download</button>
      <div @click.outside="open = false" @keyup.escape.window="open = false" x-show="open" x-trap="open" x-anchor.offset.5="$refs.download" x-transition.duration.300ms x-cloak class="absolute z-10 p-1.5 w-64 rounded-md bg-gray-100 ring-[0.5px] ring-gray-300 shadow-xl dark:bg-zinc-900/90 dark:text-zinc-300 dark:ring-zinc-700">
        <template x-for="item in links">
          <a :href="item.url" target="_blank" class="flex items-center gap-2 px-3 py-1.5 text-[13px] rounded ring-offset-0 hover:bg-blue-500 hover:text-white">
            <template x-if="item.os === 'mac'">
              <svg class="w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"/></svg>
            </template>
            <template x-if="item.os === 'win'">
              <svg class="w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"/></svg>
            </template>
            <template x-if="item.os === 'linux'">
              <svg class="w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm52.7 93c8.8-15.2 28.3-20.5 43.5-11.7 15.3 8.8 20.5 28.3 11.7 43.6-8.8 15.2-28.3 20.5-43.5 11.7-15.3-8.9-20.5-28.4-11.7-43.6zM87.4 287.9c-17.6 0-31.9-14.3-31.9-31.9 0-17.6 14.3-31.9 31.9-31.9 17.6 0 31.9 14.3 31.9 31.9 0 17.6-14.3 31.9-31.9 31.9zm28.1 3.1c22.3-17.9 22.4-51.9 0-69.9 8.6-32.8 29.1-60.7 56.5-79.1l23.7 39.6c-51.5 36.3-51.5 112.5 0 148.8L172 370c-27.4-18.3-47.8-46.3-56.5-79zm228.7 131.7c-15.3 8.8-34.7 3.6-43.5-11.7-8.8-15.3-3.6-34.8 11.7-43.6 15.2-8.8 34.7-3.6 43.5 11.7 8.8 15.3 3.6 34.8-11.7 43.6zm.3-69.5c-26.7-10.3-56.1 6.6-60.5 35-5.2 1.4-48.9 14.3-96.7-9.4l22.5-40.3c57 26.5 123.4-11.7 128.9-74.4l46.1.7c-2.3 34.5-17.3 65.5-40.3 88.4zm-5.9-105.3c-5.4-62-71.3-101.2-128.9-74.4l-22.5-40.3c47.9-23.7 91.5-10.8 96.7-9.4 4.4 28.3 33.8 45.3 60.5 35 23.1 22.9 38 53.9 40.2 88.5l-46 .6z"/></svg>
            </template>
            <span x-text="item.url.split('/').at(-1)"></span>
          </a>
        </template>
      </div>
    </div>

    <footer class="text-center mt-auto">
      <a class="inline-flex text-gray-300 hover:text-gray-900 dark:text-zinc-500 dark:hover:text-zinc-400" href="https://twitter.com/vovayatsyuk" title="Follow me on Twitter"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" fill="currentColor"><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg></a>
    </footer>
  </body>
</html>
